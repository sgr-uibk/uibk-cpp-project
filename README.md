# Game Specification

We describe a simple 2D networked multiplayer game.

We have a top-down view of the world, players are tanks or similar vehicles, they have health and can shoot projectiles.

There are obstacles on the map, some of them are destroyable or traversable, others not.

At first, one player hosts a lobby, the others join, the game starts when all players are ready.
In the match, players shoot each other until the last one survives, who is the winner.

Maps are predefined, stored in files like explained in the metroidvania specification example.

For references:

- Nier Automata's Hacking Minigame ![](https://www.confreaksandgeeks.com/wp-content/uploads/2017/03/NieR_Automata_20170315171011.jpg)
- Tank 1990
- Tank Trouble
- ![Reference Picture](images/reference_game1.gif)
- ![Reference Picture](images/reference_game2.jpg)
---

## Goals (11 Points)

- (2) Matchmaking Lobby 
    - Players connect to a lobby hosted by a player, by entering an ip:port.
    - Up to 4 players, per match
    - The Map is chosen by the host in the lobby, before the match starts.
    - Players mark themselves as ready, when all players are ready, the lobby host can start the game.
- (1) Players
    - Players have colors to distinguish them (blue tank, red tank, ...) and have names.
    - Player can move around, aim at enemies and shoot at them
    - Health can be regenerated by obtaining and using items (e.g. repair kits).
    - UI / HUD shows current player's health, status of enemies (alive, dead). 
- (2) Maps
    - Premade selection of maps (quadratic grid) with traversable / impassable terrain.
- (3) Combat
    - Real-time over the network
    - When being hit, the players health decreases, player dies when it reaches 0.
    - Match ends once there is only one surviving player left.
    - Ending screen shows the winner and a ranklist, afterwards back to lobby and repeat this cycle.
- (1) Items
    - Player can pick up items that are randomly distributed on the map,
    - Items grant the player a temporary effect: speed bonus healing or similar.
    - Items can be used by a player by pressing a key, this consumes the item.
- (1) Audio
    - Background music
    - Sound effects
- (1) Main menu
    - Join Lobby
    - Host Lobby
    - Set Name
    - Exit



## How to Build

### Build for Windows
First, download and install [Git](https://git-scm.com/install/windows) and [Git-LFS](https://git-lfs.com/). 
Then run:
```powershell
git clone https://github.com/microsoft/vcpkg.git
cd vcpkg
.\bootstrap-vcpkg.bat
set VCPKG_ROOT=%cd%
set PATH=%VCPKG_ROOT%;%PATH%
vcpkg integrate install
cd ..
```

Clone this repository using `git clone ...` and open a shell inside its directory.
Run:
```powershell
git lfs install # (only once)
git lfs checkout # to be safe
cmake -DCMAKE_TOOLCHAIN_FILE="%CD%/vcpkg/scripts/buildsystems/vcpkg.cmake" -S . -B build
cmake --build build --config Release
dir build
```

### Build for Linux (Ubtuntu in this example)
```shell
sudo apt update && sudo apt install -y libsfml-dev cmake build-essential git git-lfs

# if that fails, try explicitly specifying the dependencies for libsfml-dev
sudo apt install -y \
  libfreetype6-dev libx11-dev libxrandr-dev libxcursor-dev libxi-dev \
  libudev-dev libgl1-mesa-dev libflac-dev libogg-dev libvorbis-dev \
  libvorbisenc2 libvorbisfile3 libpthread-stubs0-dev git-lfs
```
Clone this repository using `git clone ...` and open a shell inside its directory.
```shell
git lfs install # (only once)
git lfs checkout # to be safe
cmake -S . -B build
cmake --build build --config Release
ls build
```
